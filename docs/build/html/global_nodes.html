

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>GraphQL Global object Nodes &mdash; Buycoins Python SDK 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Why are numerical values returned as strings?" href="why_string.html" />
    <link rel="prev" title="Exceptions and Exception Handling" href="exceptions.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Buycoins Python SDK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Intro</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="types_and_enums.html">Types and Enums</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions and Exception Handling</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">GraphQL Global object Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="why_string.html">Why are numerical values returned as strings?</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Buycoins Python SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>GraphQL Global object Nodes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/global_nodes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="graphql-global-object-nodes">
<h1>GraphQL Global object Nodes<a class="headerlink" href="#graphql-global-object-nodes" title="Permalink to this headline">¶</a></h1>
<div class="line-block">
<div class="line">The Buycoins GraphQL API implements the <a class="reference external" href="https://relay.dev/graphql/objectidentification.htm">GraphQL Global Object Identification Specification</a> which basically allows GraphQL objects called nodes to be fetched by GraphQL clients via a unique ID.</div>
<div class="line">Most native Python Buycoins classes available in the Buycoins SDK have an <strong>id</strong> field which points to the ID for that object.</div>
</div>
<p>Now that you know what a Global Object ID is, how do you use it to fetch GraphQL object?
In the BuycoinsSDK class, there are two methods available for node fetching - <strong>node</strong> and <strong>nodes</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can find these methods and the BuycoinsSDK class in <a class="reference internal" href="buycoins_sdk.core.html"><span class="doc">buycoins_sdk.core package</span></a></p>
</div>
<p><strong>node</strong> is used to retrieve a single GraphQL object. To use <strong>node</strong>, you must know the type of the GraphQL object you are planning to retrieve and of course, its Global Object ID or just ID.
Here’s an example of how to use this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buycoins_sdk</span> <span class="kn">import</span> <span class="n">enums</span><span class="p">,</span> <span class="n">BuycoinsSDK</span>

<span class="go"># initialise the Buycoins SDK</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buycoins_sdk</span> <span class="o">=</span> <span class="n">BuycoinsSDK</span><span class="p">(</span>
<span class="go">    public_key=&#39;pubic_key&#39;,</span>
<span class="go">    secret_key=&#39;secret_key&#39;</span>
<span class="go">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">address_node</span> <span class="o">=</span> <span class="n">buycoins_sdk</span><span class="o">.</span><span class="n">node</span><span class="p">(</span>
<span class="go">    gql_type=enums.BuycoinsType.ADDRESS,</span>
<span class="go">    node_id=&#39;QWRkcmVzcy1iOWM1NWZiNy01ODc2LTQ2NjMtOTc0OS0zODIwZjI5MGZlZTk=&#39;</span>
<span class="go">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">address_node</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;data&#39;: {</span>
<span class="go">        &#39;id&#39;: &#39;QWRkcmVzcy1iOWM1NWZiNy01ODc2LTQ2NjMtOTc0OS0zODIwZjI5MGZlZTk=&#39;,</span>
<span class="go">        &#39;address&#39;: &#39;MNjTVmqy5a9mjUShT8XsWgJQFasgHpr1ML&#39;,</span>
<span class="go">        &#39;createdAt&#39;: 1612759118,</span>
<span class="go">        &#39;cryptocurrency&#39;: &#39;litecoin&#39;</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
<p><em>Voila!</em></p>
<p>Also, unlike other methods of the BuycoinsSDK class, the <strong>node</strong> and <strong>nodes</strong> methods return their responses in a dictionary format so it is your job to convert those responses to native Python objects if you want.
We can easily do that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buycoins_sdk</span> <span class="kn">import</span> <span class="n">types</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">address</span> <span class="o">=</span> <span class="n">types</span><span class="o">.</span><span class="n">Address</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">address_node</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">address</span><span class="o">.</span><span class="n">cryptocurrency</span><span class="p">)</span>
<span class="go">Cryptocurrency.LITECOIN</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">The <strong>nodes</strong> method, on the other hand is used for fetching more than one node at the same time.</div>
</div>
<p>Like the <strong>node</strong> method, it returns the fetched nodes in a dictionary format so you will need to convert them to native Python objects if that’s what you want:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">buycoins_sdk</span> <span class="kn">import</span> <span class="n">types</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fetched_nodes</span> <span class="o">=</span> <span class="n">buycoins_sdk</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span>
<span class="go">    ids=[&#39;QWRkcmVzcy1iOWM1NWZiNy01ODc2LTQ2NjMtOTc0OS0zODIwZjI5MGZlZTk=&#39;, &#39;QWRkcmVzcy1mM2YzOGQ4OS02OWFjLTQwOWQtOWM5Zi1hMDM4YTM0YTExMTg=&#39;],</span>
<span class="go">    gql_types=[enums.BuycoinsType.ADDRESS]  # pass in all the types of all the IDs. No need to repeat types.</span>
<span class="go">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fetched_nodes</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;data&#39;: [</span>
<span class="go">        {</span>
<span class="go">            &#39;id&#39;: &#39;QWRkcmVzcy1iOWM1NWZiNy01ODc2LTQ2NjMtOTc0OS0zODIwZjI5MGZlZTk=&#39;,</span>
<span class="go">            &#39;address&#39;: &#39;MNjTVmqy5a9mjUShT8XsWgJQFasgHpr1ML&#39;,</span>
<span class="go">            &#39;createdAt&#39;: 1612759118,</span>
<span class="go">            &#39;cryptocurrency&#39;: &#39;litecoin&#39;</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;id&#39;: &#39;QWRkcmVzcy1mM2YzOGQ4OS02OWFjLTQwOWQtOWM5Zi1hMDM4YTM0YTExMTg=&#39;,</span>
<span class="go">            &#39;address&#39;: &#39;0x680dd813a5fdcd2f69e9b5edaa4a8dd6b098d759&#39;,</span>
<span class="go">            &#39;createdAt&#39;: 1612819781,</span>
<span class="go">            &#39;cryptocurrency&#39;: &#39;naira_token&#39;</span>
<span class="go">        }</span>
<span class="go">    ]</span>
<span class="go">}</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="why_string.html" class="btn btn-neutral float-right" title="Why are numerical values returned as strings?" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="exceptions.html" class="btn btn-neutral float-left" title="Exceptions and Exception Handling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Faruq Yusuff.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>